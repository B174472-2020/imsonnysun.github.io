<!DOCTYPE HTML>
<html lang="en-us">

<head>
    <title>Welcome to my inner world</title>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<meta name="keywords" content="phugo, hugo, photogallery, photoblog, hugo theme">

<meta name="description" content="AutoPhugo - Photo Gallery on Hugo">
<meta name="author" content="Karl Sickendick">
<link rel="icon" href="/">
<link rel="shortcut icon" href="/"><meta property="og:title" content="AutoPhugo" />
<meta property="og:description" content="AutoPhugo - Photo Gallery on Hugo" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://example.org/" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="AutoPhugo"/>
<meta name="twitter:description" content="AutoPhugo - Photo Gallery on Hugo"/>

<meta name="robots" content="index,follow">
<meta name="referrer" content="origin-when-cross-origin">


<meta name="generator" content="Hugo 0.82.0" />

<link href="/index.xml" rel="alternate" type="application/rss+xml" title="AutoPhugo" />
<link href="/index.xml" rel="feed" type="application/rss+xml" title="AutoPhugo" />


<link rel="stylesheet" href="/css/custom.min.26817d2aa6cc5969d3d547f9fa07e876297892d3d29510e3cacacd6321771941.css" integrity="sha256-JoF9KqbMWWnT1Uf5&#43;gfodil4ktPSlRDjysrNYyF3GUE="/>

</head>
<body class="loading">
        
    <div id="wrapper">

    <header id="header">
    <h1>

    
    <a href="http://example.org/"><strong>SONNYSUN</strong></a>
    </h1>
    	<nav>
		<ul>
		
			<li><a href="#footer" class="icon fa-info-circle">About</a></li>
		
		</ul>
	</nav>
</header>

        
        
            <div id="main">
    <div class="flexrow">
        <div class="flexcol">
        </div>
        <div class="flexcol">
        </div>
    </div>
</div>










        

    <!-- Footer -->
    <footer id="footer" class="panel">
        <div class="inner split">
            <div>
                <section>
                    <h2>Welcome to my inner world </h2>
                    <p>This is the shabby gallery of my photographs. They are mainly films token by my Nikon F3 with 50mm 1.4f lens in Edinburgh. I'm trying to express this city and hope you would feel my words behind :-)</p>
                </section>
                <section>
                    <h2>Follow me</h2>
                    <ul class="icons">
                    
                                           
                        <li><a href="https://www.facebook.com/Sunfenss/" class="icon fa-facebook"><span class="label">Facebook</span></a></li>
                    
                        <li><a href="https://www.instagram.com/sonny__sun/" class="icon fa-instagram"><span class="label">Instagram</span></a></li>
                    
                        
                    
                    </ul>
                </section>
                <p class="copyright">
                    &copy; Your name. Code generated with <a href="https://gohugo.io/">Hugo</a>, theme based on <a href="https://github.com/kc0bfv/autophugo/">AutoPhugo</a>.
                </p>
            </div>
            
                <div>
                    <section>
                        <h2>Get in touch</h2>
                        <form method="post" action="//formspree.io/example@example.org" novalidate>
                            <div class="field half first">
                                <input type="text" name="name" required data-validation-required-message="Please, enter your name" id="name" placeholder="Name *" />
                            </div>
                            <div class="field half">
                                <input type="email" name="email" required data-validation-required-message="Please, enter your email." id="email" placeholder="Email *" />
                            </div>
                            <div class="field">
                                <textarea name="message" required data-validation-required-message="Please, enter your message" id="message" rows="4" placeholder="Message *"></textarea>
                            </div>
                            <ul class="actions">
                                <li><input type="submit" value="Send" class="special" /></li>
                                <li><input type="reset" value="Reset" /></li>
                            </ul>
                        </form>
                    </section>
                </div>
            
        </div>
    </footer>


    </div>

<script src="/js/custom.min.d42627882b910c50639608587839ed017cf7df856fcc83069676a7fb04c92669.js" integrity="sha256-1CYniCuRDFBjlghYeDntAXz334VvzIMGlnan&#43;wTJJmk="></script>

<title>Venting</title>
<img src="https://sonysun-1305432147.cos.ap-nanjing.myqcloud.com/00A.jpg" alt="my film" height="50%" >
<img src="https://sonysun-1305432147.cos.ap-nanjing.myqcloud.com/Alex.jpg" alt="my film" height="50%">
<img src="https://sonysun-1305432147.cos.ap-nanjing.myqcloud.com/Boys.jpg" alt="my film" height="50%">

<div id="main">
    <div class="pin">
        <div class="box">
            <img src="" />
        </div>
    </div>
</div>
*{padding: 0;margin:0;}
#main{
    position: relative;
}
.pin{
    padding: 15px 0 0 15px;
    float:left;
}
.box{
    padding: 10px;
    border:1px solid #ccc;
    box-shadow: 0 0 6px #ccc;
    border-radius: 5px;
}
.box img{
    width:162px;
    height:auto;
}
window.onload=function(){
    waterfall('main','pin');
    // 模拟JSON后台数据获取
    var dataInt = {
        'data':[
            {'src':'0.jpg'},
            {'src':'1.jpg'},
            {'src':'2.jpg'},
            {'src':'3.jpg'},
            {'src':'4.jpg'},
            {'src':'5.jpg'},
            {'src':'6.jpg'},
            {'src':'7.jpg'},
            {'src':'8.jpg'},
            {'src':'9.jpg'}
        ]
    };
    // ==========================================================
    //      鼠标滚动加载事件
    // ==========================================================
    window.onscroll = function(){
        if(checkscrollside()){
            // 获取父级对象
            var oParent = document.getElementById('main');
            for(var i = 0; i < dataInt.data.length; i++){
                //添加div.pin
                var oPin = document.createElement('div'); 
                oPin.className = 'pin';                   
                oParent.appendChild(oPin);              
                //添加div.box
                var oBox = document.createElement('div');
                oBox.className = 'box';
                oPin.appendChild(oBox);
                //添加img
                var oImg = document.createElement('img');
                oImg.src = './images/'+dataInt.data[i].src;
                oBox.appendChild(oImg);
            }
            waterfall('main','pin');
        };
    }
}
// ==========================================================
//      瀑布流主函数
// ==========================================================
function waterfall(parent,pin){
    // 通过父级获取数据块对象集合aPin
    var oParent = document.getElementById(parent);
    var aPin = getClassObj(oParent,pin);
    // 获取单个块pin的宽
    var iPinW = aPin[0].offsetWidth;
    // 计算整个页面的列数
    var num = Math.floor(document.documentElement.clientWidth/iPinW);
    // 设置父级居中样式：定宽+自动水平外边距
    oParent.style.cssText = 'width:' + iPinW * num + 'px;ma rgin:0 auto;';
    // 用于存储每列中的所有块相加的高度。
    var pinHArr = [];
    // 遍历数组aPin的每个块元素
    for(var i = 0; i < aPin.length; i++){
        var pinH = aPin[i].offsetHeight;
        if(i < num){
            // 把第一行中的num个块pin先添加进数组pinHArr
            pinHArr[i] = pinH; 
        }else{
            // 获取数组pinHArr中的最小值minH
            var minH = Math.min.apply(null,pinHArr);
            var minHIndex = getminHIndex(pinHArr,minH);
            // 设置绝对位移
            aPin[i].style.position = 'absolute';
            aPin[i].style.top = minH + 'px';
            aPin[i].style.left = aPin[minHIndex].offsetLeft + 'px';
            // 数组中最小高高度 + 新添的aPin[i]块高，更新添加了块后的列高
            pinHArr[minHIndex] += aPin[i].offsetHeight;
        }
    }
}
// ==========================================================
//      封装getClassObj()，通过父级获取类
// ==========================================================
function getClassObj(parent,className){
    // 获取父级的所有子集
    var obj=parent.getElementsByTagName('*');
    // 创建一个数组 用于收集子元素
    var pinS=[];
    // 遍历子元素、判断类别、压入数组
    for (var i=0;i<obj.length;i++) {
        if (obj[i].className==className){
            pinS.push(obj[i]);
        }
    };
    return pinS;
}
// ==========================================================
//      获取pin高度最小的索引index
// ==========================================================
function getminHIndex(arr,minH){
    for(var i in arr){
        if(arr[i]==minH){
            return i;
        }
    }
}
// ==========================================================
//      检测是否具备滚动加载数据块的条件
// ==========================================================
function checkscrollside(){
    var oParent = document.getElementById('main');
    var aPin = getClassObj(oParent,'pin');
    // 最后一个块框的距离页面顶端+自身高的一半(实现未滚到底就开始加载)
    var lastPinH = aPin[aPin.length-1].offsetTop + Math.floor(aPin[aPin.length-1].offsetHeight/2);
    // 获取视界顶端到页面顶端的距离
    var scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
    // 获取视界高度
    var documentH = document.documentElement.clientHeight;
    // 到达指定高度后，返回true，触发waterfall()函数
    return (lastPinH < scrollTop + documentH) ? true : false;
}

</html>